<main id="product" class="product">
  <div class="container">
    @if (product) {
    <section class="product-bloc">
      <img class="product-bloc-img" src="{{ product.image }}" alt="product-img">
      <div class="product-bloc-info">
        <h1>{{ product.title }}</h1>
        <p>{{ product.description }}</p>
        <span class="product-bloc-info-availability {{ product.available ? 'available' : 'unavailable' }}">
          {{ product.available ?
          "Available" :
          "Out of stock"
          }}
        </span>
        <div class="product-bloc-options">
          @for (item of product.options; track $index) {
          <div class="product-bloc-radio">
            <label for="{{ item.id }}">
              {{ item.value }}
            </label>
            <input type="radio" name="size_{{ item.id }}" id="{{ item.id }}" value="{{ item.value }}"
              (change)="handleSelectedOption(item.id, item.value, item.price)"
              [checked]="selectedOptionId === item.id" />
          </div>
          }
        </div>
        <div class="product-bloc-price">
          <span class="product-bloc-price-text {{ isDiscount ? 'discount' : '' }}">
            {{ displayedPrice }}<span class="product-bloc-price-currency">€</span>
          </span>
          @if (isDiscount) {
          <span class="product-bloc-price-discount">
            {{ priceBeforeDiscount }}<span class="product-bloc-price-currency">€</span>
          </span>
          }

        </div>
        <div class="product-bloc-ingredients">
          <span>Ingredients</span>
          <ul>
            @for (item of product.ingredients; track $index) {
            <li>{{ item }}</li>
            }
          </ul>
        </div>
      </div>
    </section>
    <section>
      <!-- mettre carousel pour suggestions de produits -->
    </section>
    }@else {
    <div class="product-not-found">
      <h1>Produit introuvable</h1>
    </div>
    }
  </div>
</main>